# Проект 2
Задача: сделать миграцию данных в отдельные логические таблицы, а затем собрать на них витрину данных.


Существующая модель данных:
<p align="center">
  <img src="https://github.com/pmkhlv/de-project-2/blob/main/schema_shipping.png" width="800" title="Существующая модель данных">
</p>

Таблица <b>shipping</b>, которая представляет собой последовательность действий при доставке, перечисленную ниже. <br>
<b>shippingid</b> — уникальный идентификатор доставки. <br>
<b>saleid</b> — уникальный идентификатор заказа. К одному заказу может быть привязано несколько строчек <b>shippingid</b>, то есть логов, с информацией о доставке. <br>
<b>vendorid</b> — уникальный идентификатор вендора. К одному вендору может быть привязано множество <b>saleid</b> и множество строк доставки.<br>
<b>payment</b> — сумма платежа (то есть дублирующаяся информация).<br>
<b>shipping_plan_datetime</b> — плановая дата доставки.<br>
<b>status</b> — статус доставки в таблице <b>shipping</b> по данному <b>shippingid</b>. Может принимать значения <b>in_progress</b> — доставка в процессе, либо <b>finished</b> — доставка завершена.<br>
<b>state</b> — промежуточные точки заказа, которые изменяются в соответствии с обновлением информации о доставке по времени <b>state_datetime</b>.<br>
<b>booked</b> (пер. «заказано»);<br>
<b>fulfillment</b> — заказ доставлен на склад отправки;<br>
<b>queuedv (пер. «в очереди») — заказ в очереди на запуск доставки;<br>
<b>transition</b></b> (пер. «передача») — запущена доставка заказа;<br>
<b>pending</b> (пер. «в ожидании») — заказ доставлен в пункт выдачи и ожидает получения;<br>
<b>received</b> (пер. «получено») — покупатель забрал заказ;<br>
<b>returned</b> (пер. «возвращено») — покупатель возвратил заказ после того, как его забрал.<br>
<b>state_datetime</b> — время обновления состояния заказа.<br>
<b>shipping_transfer_description</b> — строка со значениями <b>transfer_type</b> и <b>transfer_model</b>, записанными через :. Пример записи — <b>1p:car</b>.<br>
<b>transfer_type</b> — тип доставки. <b>1p</b> означает, что компания берёт ответственность за доставку на себя, <b>3p</b> — что за отправку ответственен вендор.<br>
<b>transfer_model</b> — модель доставки, то есть способ, которым заказ доставляется до точки: <b>car</b> — машиной, <b>train</b> — поездом, <b>ship</b> — кораблем, <b>airplanev</b> — самолетом, <b>multiple</b> — комбинированной доставкой.<br>
<b>shipping_transfer_rate</b> — процент стоимости доставки для вендора в зависимости от типа и модели доставки, который взимается интернет-магазином для покрытия расходов.<br>
<b>shipping_countryv</b> — страна доставки, учитывая описание тарифа для каждой страны.<br>
<b>shipping_country_base_rate</b> — налог на доставку в страну, который является процентом от стоимости <b>payment_amount</b>.<br>
<b>vendor_agreement_description</b> — строка, в которой содержатся данные <b>agreementid</b>, <b>agreement_number</b>, <b>agreement_rate</b>, <b>agreement_commission</b>, записанные через разделитель :. Пример записи — <b>12:vsp-34:0.02:0.023</b>.<br>
<b>agreementid</b> — идентификатор договора. <b>agreement_number</b> — номер договора в бухгалтерии.<br> 
<b>agreement_rate</b> — ставка налога за стоимость доставки товара для вендора.<br>
<b>agreement_commission</b> — комиссия, то есть доля в платеже являющаяся доходом компании от сделки.<br>
 <br><br>

Итоговая модель данных:
<p align="center">
  <img src="https://github.com/pmkhlv/de-project-2/blob/main/schema_final.png" width="800" title="Итоговая модель данных">
</p>

