# Проект 5

Задача — загрузить данные по пользователям групп социальной в текущую модель данных; собрать витрину по пабликами с высокой конверсией в первое сообщение.  

### Структура DWH

Основное хранилище данных - аналитическая СУБД Vertica.  

Хранилище на момент разработки состоит из 2 слоёв - staging -->> dds.  

Данные в staging попадают из хранилища S3 в виде raw data, регулярная загрузка реализована с помощью пайплана в Airflow.  

Общая модель данных в dds - Data Vault.  
![Схема слоя DDS](https://github.com/pmkhlv/de-project-5/blob/main/dds_data_model_p5.png)  

### Структура витрины  
**_hk_group_id_** - хэш-ключ паблика  
**_cnt_added_users_** - количество новых пользователей группы (event = add)  
**_cnt_users_in_group_with_messages_**  - количество пользователей группы, которые написали хотя бы одно сообщение  
**_group_conversion_** - доля пользователей группы, которые начали общаться.  

Итоговый вид витрины:  

| hk_group_id        | cnt_users_in_group_with_messages| cnt_added_users|group_conversion, %  |
|------------------- | -------------------------------- | --------------- | ---------------------| 
|7174329635764732197|                            2757|           4794|57.51                |
| 206904954090724337|                            2448|           4311|56.78                |
|4350425024258480878|                            2360|           4172|56.57                |

Топ 3 группы по конверсии в первое сообщение: 7174329635764732197, 206904954090724337, 4350425024258480878 - рекомендованы к размещению рекламы.